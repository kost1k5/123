# Хроно-Платформер

Это полноценная браузерная 2D-игра в жанре платформер, созданная с нуля на чистом JavaScript (ES6+) в соответствии с подробным архитектурным планом. Игра демонстрирует современные практики веб-разработки игр, включая модульность, профессиональный игровой цикл, управление ресурсами и состояниями, а также уникальную механику замедления времени.

## Особенности

*   **Современный JavaScript:** Весь код написан на ES6+ с использованием нативных модулей, классов и асинхронных операций.
*   **Игровой движок профессионального уровня:**
    *   **Игровой цикл с фиксированным шагом:** Обеспечивает стабильную и предсказуемую физику независимо от производительности компьютера.
    *   **Разделение логики и отрисовки:** Четкое разграничение между `update` (состояние) и `draw` (визуализация).
*   **Продвинутая физика:**
    *   Движение на основе ускорения, а не прямого изменения скорости.
    *   Надежная система столкновений (AABB) с разрешением по осям для предотвращения застреваний.
*   **Управление ресурсами:** `AssetManager` для предварительной загрузки изображений и `AudioManager` для звуков, что исключает задержки во время игры.
*   **Анимация спрайтов:** Система анимации на основе конечного автомата, управляющая состояниями персонажа (ожидание, бег, прыжок, падение).
*   **Ключевая механика «Хроно»:** Возможность замедлять время по нажатию клавиши `Shift`, что влияет на геймплей, анимацию и звук.
*   **Управление данными:**
    *   Уровни загружаются из внешних `JSON` файлов, что позволяет легко создавать новый контент.
    *   Прогресс (рекорд) сохраняется локально с помощью `localStorage`.
*   **Адаптивность и мобильное управление:** Игра масштабируется под размер экрана, а для мобильных устройств предусмотрены виртуальные сенсорные кнопки.
*   **Сетевые функции:** Реализован клиент для онлайн-таблицы лидеров, готовый к работе с бэкенд-сервисом вроде JSONBin.io.

## Как запустить игру

Поскольку игра использует ES-модули (`import`/`export`) и `fetch` API для загрузки уровней, ее нельзя запустить, просто открыв `index.html` в браузере (это вызовет ошибки CORS). Вам необходимо запустить простой локальный веб-сервер.

1.  Откройте терминал или командную строку в корневой папке проекта.
2.  Если у вас установлен Python 3, выполните команду:
    ```bash
    python -m http.server
    ```
    Если у вас Python 2:
    ```bash
    python -m SimpleHTTPServer
    ```
3.  Откройте браузер и перейдите по адресу `http://localhost:8000`.

## Настройка и ассеты

В проекте используются файлы-заглушки для всех ресурсов (ассетов). Вы можете легко заменить их своими собственными.

### 1. Спрайты

*   **Спрайт игрока:** Замените файл `assets/images/player_spritesheet.png`.
    *   **Ожидаемый формат:** Спрайт-лист с кадрами размером 32x64 пикселя.
    *   **Расположение анимаций:**
        *   `Ряд 0`: Анимация ожидания (idle).
        *   `Ряд 1`: Анимация бега (run).
        *   `Ряд 2`: Кадр прыжка (jump).
        *   `Ряд 3`: Кадр падения (fall).
    *   Количество кадров и скорость анимации можно настроить в конструкторе класса `Player` (`src/game/Player.js`).

### 2. Звуки

*   Замените файлы в папке `assets/audio/`:
    *   `jump.wav` (или `.mp3`) — звук прыжка.
    *   `land.wav` (или `.mp3`) — звук приземления.

### 3. Ресурсы для ассетов

Вы можете найти высококачественные бесплатные ассеты на следующих сайтах:
*   [Kenney.nl](https://kenney.nl/assets)
*   [OpenGameArt.org](https://opengameart.org/)
*   [itch.io](https://itch.io/game-assets/free)

### 4. Настройка таблицы лидеров

Для работы онлайн-таблицы лидеров:
1.  Зарегистрируйтесь на сервисе для хранения JSON, например, [JSONBin.io](https://jsonbin.io/).
2.  Создайте новое хранилище (bin) и получите его URL.
3.  Получите ваш мастер-ключ API (`X-Master-Key`).
4.  Откройте файл `src/game/Leaderboard.js` и замените значения-заглушки `YOUR_API_KEY` и `YOUR_BIN_URL` на ваши реальные данные.

## Структура проекта

-   `/`: Корневая папка.
    -   `index.html`: Главный HTML-файл.
    -   `style.css`: Стили для холста и страницы.
    -   `README.md`: Этот файл.
-   `/assets`: Все игровые ресурсы.
    -   `/images`: Изображения и спрайт-листы.
    -   `/audio`: Звуковые эффекты.
    -   `/levels`: JSON-файлы с данными уровней.
-   `/src`: Исходный код JavaScript.
    -   `main.js`: Главная точка входа, инициализация игры и игровой цикл.
    -   `/engine`: Ядро движка, не зависящее от конкретной игры (менеджеры, обработчики).
    -   `/game`: Логика, специфичная для данной игры (классы `Player`, `Level`, `UI`).
    -   `/utils`: Вспомогательные функции (векторная математика, столкновения).
